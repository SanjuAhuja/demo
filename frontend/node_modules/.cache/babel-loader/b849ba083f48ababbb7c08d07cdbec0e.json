{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/DELL/Desktop/sample/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/DELL/Desktop/sample/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import Axios from'axios';import{CART_EMPTY}from'../constants/cartConstants';import{ORDER_CREATE_REQUEST,ORDER_CREATE_FAIL,ORDER_CREATE_SUCCESS,ORDER_CREATE_RESET,ORDER_DETAILS_REQUEST,ORDER_DETAILS_FAIL,ORDER_DETAILS_SUCCESS,ORDER_PAY_REQUEST,ORDER_PAY_FAIL,ORDER_PAY_SUCCESS,ORDER_MINE_LIST_REQUEST,ORDER_MINE_LIST_SUCCESS,ORDER_MINE_LIST_FAIL,ORDER_LIST_REQUEST,ORDER_LIST_SUCCESS,ORDER_LIST_FAIL,ORDER_DELETE_REQUEST,ORDER_DELETE_SUCCESS,ORDER_DELETE_FAIL,ORDER_SUMMARY_REQUEST,ORDER_SUMMARY_SUCCESS,ORDER_SUMMARY_FAIL,ORDER_DELIVER_REQUEST,ORDER_DELIVER_SUCCESS,ORDER_DELIVER_FAIL}from'../constants/orderContants';export var createOrder=function createOrder(order){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,getState){var _getState,userInfo,_yield$Axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:ORDER_CREATE_REQUEST,payload:order});_context.prev=1;_getState=getState(),userInfo=_getState.userSignin.userInfo;_context.next=5;return Axios.post('http://localhost:6000/api/orders/',order,{headers:{Authorization:\"Sanju \".concat(userInfo.token)}});case 5:_yield$Axios$post=_context.sent;data=_yield$Axios$post.data;dispatch({type:ORDER_CREATE_SUCCESS,payload:data.order});dispatch({type:CART_EMPTY});localStorage.removeItem('cartItems');_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](1);dispatch({type:ORDER_CREATE_FAIL,payload:_context.t0.response&&_context.t0.response.data.message?_context.t0.response.data.message:_context.t0.message});case 15:case\"end\":return _context.stop();}}},_callee,null,[[1,12]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export var detailsOrder=function detailsOrder(orderId){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch,getState){var _getState2,userInfo,_yield$Axios$get,data,message;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch({type:ORDER_DETAILS_REQUEST,payload:orderId});_getState2=getState(),userInfo=_getState2.userSignin.userInfo;_context2.prev=2;_context2.next=5;return Axios.get(\"http://localhost:6000/api/orders/\".concat(orderId),{headers:{Authorization:\"Sanju \".concat(userInfo.token)}});case 5:_yield$Axios$get=_context2.sent;data=_yield$Axios$get.data;dispatch({type:ORDER_DETAILS_SUCCESS,payload:data});_context2.next=14;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](2);message=_context2.t0.response&&_context2.t0.response.data.message?_context2.t0.response.data.message:_context2.t0.message;dispatch({type:ORDER_DETAILS_FAIL,payload:message});case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[2,10]]);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}();};export var payOrder=function payOrder(order,paymentResult){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch,getState){var _getState3,userInfo,_Axios$put,data,message;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch({type:ORDER_PAY_REQUEST,payload:{order:order,paymentResult:paymentResult}});_getState3=getState(),userInfo=_getState3.userSignin.userInfo;try{_Axios$put=Axios.put(\"/api/orders/\".concat(order.id,\"/pay\"),paymentResult,{headers:{Authorization:\"Sanju \".concat(userInfo.token)}}),data=_Axios$put.data;dispatch({type:ORDER_PAY_SUCCESS,payload:data});}catch(error){message=error.response&&error.response.data.message?error.response.data.message:error.message;dispatch({type:ORDER_PAY_FAIL,payload:message});}case 3:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x5,_x6){return _ref3.apply(this,arguments);};}();};export var listOrderMine=function listOrderMine(){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch,getState){var _getState4,userInfo,_yield$Axios$get2,data,message;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch({type:ORDER_MINE_LIST_REQUEST});_getState4=getState(),userInfo=_getState4.userSignin.userInfo;_context4.prev=2;_context4.next=5;return Axios.get('/api/orders/mine',{headers:{Authorization:\"Sanju \".concat(userInfo.token)}});case 5:_yield$Axios$get2=_context4.sent;data=_yield$Axios$get2.data;dispatch({type:ORDER_MINE_LIST_SUCCESS,payload:data});_context4.next=14;break;case 10:_context4.prev=10;_context4.t0=_context4[\"catch\"](2);message=_context4.t0.response&&_context4.t0.response.data.message?_context4.t0.response.data.message:_context4.t0.message;dispatch({type:ORDER_MINE_LIST_FAIL,payload:message});case 14:case\"end\":return _context4.stop();}}},_callee4,null,[[2,10]]);}));return function(_x7,_x8){return _ref4.apply(this,arguments);};}();};export var listOrders=function listOrders(_ref5){var _ref5$seller=_ref5.seller,seller=_ref5$seller===void 0?'':_ref5$seller;return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch,getState){var _getState5,userInfo,_yield$Axios$get3,data,message;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:dispatch({type:ORDER_LIST_REQUEST});_getState5=getState(),userInfo=_getState5.userSignin.userInfo;_context5.prev=2;_context5.next=5;return Axios.get(\"/api/orders?seller=\".concat(seller),{headers:{Authorization:\"Sanju \".concat(userInfo.token)}});case 5:_yield$Axios$get3=_context5.sent;data=_yield$Axios$get3.data;console.log(data);dispatch({type:ORDER_LIST_SUCCESS,payload:data});_context5.next=15;break;case 11:_context5.prev=11;_context5.t0=_context5[\"catch\"](2);message=_context5.t0.response&&_context5.t0.response.data.message?_context5.t0.response.data.message:_context5.t0.message;dispatch({type:ORDER_LIST_FAIL,payload:message});case 15:case\"end\":return _context5.stop();}}},_callee5,null,[[2,11]]);}));return function(_x9,_x10){return _ref6.apply(this,arguments);};}();};export var deleteOrder=function deleteOrder(orderId){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch,getState){var _getState6,userInfo,_Axios$delete,data,message;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:dispatch({type:ORDER_DELETE_REQUEST,payload:orderId});_getState6=getState(),userInfo=_getState6.userSignin.userInfo;try{_Axios$delete=Axios.delete(\"/api/orders/\".concat(orderId),{headers:{Authorization:\"Sanju \".concat(userInfo.token)}}),data=_Axios$delete.data;dispatch({type:ORDER_DELETE_SUCCESS,payload:data});}catch(error){message=error.response&&error.response.data.message?error.response.data.message:error.message;dispatch({type:ORDER_DELETE_FAIL,payload:message});}case 3:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x11,_x12){return _ref7.apply(this,arguments);};}();};export var summaryOrder=function summaryOrder(){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch,getState){var _getState7,userInfo,_yield$Axios$get4,data;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:dispatch({type:ORDER_SUMMARY_REQUEST});_getState7=getState(),userInfo=_getState7.userSignin.userInfo;_context7.prev=2;_context7.next=5;return Axios.get('/api/orders/summary',{headers:{Authorization:\"Sanju \".concat(userInfo.token)}});case 5:_yield$Axios$get4=_context7.sent;data=_yield$Axios$get4.data;dispatch({type:ORDER_SUMMARY_SUCCESS,payload:data});_context7.next=13;break;case 10:_context7.prev=10;_context7.t0=_context7[\"catch\"](2);dispatch({type:ORDER_CREATE_FAIL,payload:_context7.t0.response&&_context7.t0.response.data.message?_context7.t0.response.data.message:_context7.t0.message});case 13:case\"end\":return _context7.stop();}}},_callee7,null,[[2,10]]);}));return function(_x13,_x14){return _ref8.apply(this,arguments);};}();};export var deliverOrder=function deliverOrder(orderId){return/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch,getState){var _getState8,userInfo,_Axios$put2,data,message;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:dispatch({type:ORDER_DELIVER_REQUEST,payload:orderId});_getState8=getState(),userInfo=_getState8.userSignin.userInfo;try{_Axios$put2=Axios.put(\"/api/orders/\".concat(orderId,\"/deliver\"),{},{headers:{Authorization:\"Sanju \".concat(userInfo.token)}}),data=_Axios$put2.data;dispatch({type:ORDER_DELIVER_SUCCESS,payload:data});}catch(error){message=error.response&&error.response.data.message?error.response.data.message:error.message;dispatch({type:ORDER_DELIVER_FAIL,payload:message});}case 3:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x15,_x16){return _ref9.apply(this,arguments);};}();};","map":{"version":3,"sources":["C:/Users/DELL/Desktop/sample/frontend/src/actions/orderActions.js"],"names":["Axios","CART_EMPTY","ORDER_CREATE_REQUEST","ORDER_CREATE_FAIL","ORDER_CREATE_SUCCESS","ORDER_CREATE_RESET","ORDER_DETAILS_REQUEST","ORDER_DETAILS_FAIL","ORDER_DETAILS_SUCCESS","ORDER_PAY_REQUEST","ORDER_PAY_FAIL","ORDER_PAY_SUCCESS","ORDER_MINE_LIST_REQUEST","ORDER_MINE_LIST_SUCCESS","ORDER_MINE_LIST_FAIL","ORDER_LIST_REQUEST","ORDER_LIST_SUCCESS","ORDER_LIST_FAIL","ORDER_DELETE_REQUEST","ORDER_DELETE_SUCCESS","ORDER_DELETE_FAIL","ORDER_SUMMARY_REQUEST","ORDER_SUMMARY_SUCCESS","ORDER_SUMMARY_FAIL","ORDER_DELIVER_REQUEST","ORDER_DELIVER_SUCCESS","ORDER_DELIVER_FAIL","createOrder","order","dispatch","getState","type","payload","userInfo","userSignin","post","headers","Authorization","token","data","localStorage","removeItem","response","message","detailsOrder","orderId","get","payOrder","paymentResult","put","id","error","listOrderMine","listOrders","seller","console","log","deleteOrder","delete","summaryOrder","deliverOrder"],"mappings":"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","sourcesContent":["import Axios from 'axios';\r\nimport { CART_EMPTY } from '../constants/cartConstants';\r\nimport { ORDER_CREATE_REQUEST, ORDER_CREATE_FAIL, ORDER_CREATE_SUCCESS, ORDER_CREATE_RESET, \r\n    ORDER_DETAILS_REQUEST, ORDER_DETAILS_FAIL, ORDER_DETAILS_SUCCESS, \r\n    ORDER_PAY_REQUEST, ORDER_PAY_FAIL, ORDER_PAY_SUCCESS, \r\n    ORDER_MINE_LIST_REQUEST, ORDER_MINE_LIST_SUCCESS, ORDER_MINE_LIST_FAIL,\r\n    ORDER_LIST_REQUEST, ORDER_LIST_SUCCESS, ORDER_LIST_FAIL,\r\n    ORDER_DELETE_REQUEST,ORDER_DELETE_SUCCESS, ORDER_DELETE_FAIL,\r\n    ORDER_SUMMARY_REQUEST, ORDER_SUMMARY_SUCCESS,ORDER_SUMMARY_FAIL,\r\n    ORDER_DELIVER_REQUEST, ORDER_DELIVER_SUCCESS, ORDER_DELIVER_FAIL} from '../constants/orderContants';\r\n\r\n    export const createOrder = (order) => async (dispatch, getState) => {\r\n      dispatch({ type: ORDER_CREATE_REQUEST, payload: order });\r\n      try {\r\n        const {\r\n          userSignin: { userInfo },\r\n        } = getState();\r\n        const { data } = await Axios.post('http://localhost:6000/api/orders/', order, {\r\n          headers: {\r\n            Authorization: `Sanju ${userInfo.token}`,\r\n          },\r\n        });\r\n        dispatch({ type: ORDER_CREATE_SUCCESS, payload: data.order });\r\n        dispatch({ type: CART_EMPTY });\r\n        localStorage.removeItem('cartItems');\r\n      } catch (error) {\r\n        dispatch({\r\n          type: ORDER_CREATE_FAIL,\r\n          payload:\r\n            error.response && error.response.data.message\r\n              ? error.response.data.message\r\n              : error.message,\r\n        });\r\n      }\r\n    };\r\n\r\n    export const detailsOrder = (orderId) => async (dispatch, getState) => {\r\n      dispatch({ type: ORDER_DETAILS_REQUEST, payload: orderId });\r\n      const {\r\n        userSignin: { userInfo },\r\n      } = getState();\r\n      try {\r\n        const { data } = await Axios.get(`http://localhost:6000/api/orders/${orderId}`, {\r\n          headers: { Authorization: `Sanju ${userInfo.token}` },\r\n        });\r\n        dispatch({ type: ORDER_DETAILS_SUCCESS, payload: data });\r\n      } catch (error) {\r\n        const message =\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message;\r\n        dispatch({ type: ORDER_DETAILS_FAIL, payload: message });\r\n      }\r\n    };\r\n\r\nexport const payOrder = (order, paymentResult) => async (dispatch, getState) => {\r\n    dispatch({ type: ORDER_PAY_REQUEST, payload: { order, paymentResult } });\r\n    const {userSignin: { userInfo },} = getState();\r\n    try {\r\n        const { data } = Axios.put(`/api/orders/${order.id}/pay`, paymentResult, {\r\n            headers: { Authorization: `Sanju ${userInfo.token}`, },\r\n        });\r\n        dispatch({ type: ORDER_PAY_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        const message = \r\n        error.response && error.response.data.message \r\n        ? error.response.data.message \r\n        : error.message;\r\n        dispatch({type: ORDER_PAY_FAIL, payload: message});\r\n    }\r\n};\r\n\r\nexport const listOrderMine = () => async (dispatch, getState) => {\r\n    dispatch({ type: ORDER_MINE_LIST_REQUEST });\r\n    const {\r\n      userSignin: { userInfo },\r\n    } = getState();\r\n    try {\r\n      const { data } = await Axios.get('/api/orders/mine', {\r\n        headers: {\r\n          Authorization: `Sanju ${userInfo.token}`,\r\n        },\r\n      });\r\n      dispatch({ type: ORDER_MINE_LIST_SUCCESS, payload: data });\r\n    } catch (error) {\r\n      const message =\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message;\r\n      dispatch({ type: ORDER_MINE_LIST_FAIL, payload: message });\r\n    }\r\n  };\r\n\r\n  export const listOrders = ({ seller = '' }) => async (dispatch, getState) => {\r\n    dispatch({ type: ORDER_LIST_REQUEST });\r\n    const {\r\n      userSignin: { userInfo },\r\n    } = getState();\r\n    try {\r\n      const { data } = await Axios.get(`/api/orders?seller=${seller}`, {\r\n        headers: { Authorization: `Sanju ${userInfo.token}` },\r\n      });\r\n      console.log(data);\r\n      dispatch({ type: ORDER_LIST_SUCCESS, payload: data });\r\n    } catch (error) {\r\n      const message =\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message;\r\n      dispatch({ type: ORDER_LIST_FAIL, payload: message });\r\n    }\r\n  };\r\n\r\n  \r\n\r\n  export const deleteOrder = (orderId) => async (dispatch, getState) => {\r\n    dispatch({ type: ORDER_DELETE_REQUEST, payload: orderId });\r\n    const {\r\n      userSignin: { userInfo },\r\n    } = getState();\r\n    try {\r\n      const { data } = Axios.delete(`/api/orders/${orderId}`, {\r\n        headers: { Authorization: `Sanju ${userInfo.token}` },\r\n      });\r\n      dispatch({ type: ORDER_DELETE_SUCCESS, payload: data });\r\n    } catch (error) {\r\n      const message =\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message;\r\n      dispatch({ type: ORDER_DELETE_FAIL, payload: message });\r\n    }\r\n  };\r\n\r\n  export const summaryOrder = () => async (dispatch, getState) => {\r\n    dispatch({ type: ORDER_SUMMARY_REQUEST });\r\n    const {\r\n      userSignin: { userInfo },\r\n    } = getState();\r\n    try {\r\n      const { data } = await Axios.get('/api/orders/summary', {\r\n        headers: { Authorization: `Sanju ${userInfo.token}` },\r\n      });\r\n      dispatch({ type: ORDER_SUMMARY_SUCCESS, payload: data });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: ORDER_CREATE_FAIL,\r\n        payload:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      });\r\n    }\r\n  };\r\n\r\n  export const deliverOrder = (orderId) => async (dispatch, getState) => {\r\n    dispatch({ type: ORDER_DELIVER_REQUEST, payload: orderId });\r\n    const {\r\n      userSignin: { userInfo },\r\n    } = getState();\r\n    try {\r\n      const { data } = Axios.put(\r\n        `/api/orders/${orderId}/deliver`,\r\n        {},\r\n        {\r\n          headers: { Authorization: `Sanju ${userInfo.token}` },\r\n        }\r\n      );\r\n      dispatch({ type: ORDER_DELIVER_SUCCESS, payload: data });\r\n    } catch (error) {\r\n      const message =\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message;\r\n      dispatch({ type: ORDER_DELIVER_FAIL, payload: message });\r\n    }\r\n  };\r\n  \r\n\r\n \r\n  "]},"metadata":{},"sourceType":"module"}